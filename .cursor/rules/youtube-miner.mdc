# YouTube Miner Development Guidelines

Auto-generated from feature plans. Last updated: 2024-12-24

## Active Technologies

- **Language**: Python 3.10+
- **Audio Processing**: yt-dlp, pydub, FFmpeg
- **VAD**: Silero VAD (PyTorch)
- **Transcription**: Whisper-Tiny, Faster-Whisper, ai4bharat/indic-seamless
- **Comparison**: jiwer (WER/CER), sentence-transformers (semantic similarity)
- **Testing**: pytest, pytest-cov

## Project Structure

```text
youtube_miner/
├── src/
│   ├── cli.py                 # Main CLI entry point
│   ├── downloader/            # YouTube audio & caption download
│   ├── converter/             # Audio format conversion
│   ├── vad/                   # Voice Activity Detection & chunking
│   ├── transcriber/           # Multi-model transcription
│   ├── deduplicator/          # N-gram repetition removal
│   ├── comparator/            # WER, CER, semantic similarity
│   ├── pipeline/              # End-to-end orchestration
│   └── models/                # Data classes
├── tests/
│   ├── unit/
│   └── integration/
├── specs/001-youtube-miner/   # Feature specifications
├── docs/
└── requirements.txt
```

## Commands

```bash
# Install dependencies
pip install -r requirements.txt

# Run full pipeline
python -m youtube_miner "https://youtube.com/watch?v=..."

# Run tests
pytest tests/ -v --cov=src

# Run linting
flake8 src/ tests/
black src/ tests/ --check
```

## Code Style

- **Type hints**: Required for all public functions
- **Docstrings**: Google style for all modules, classes, functions
- **Formatting**: Black with default settings
- **Linting**: Flake8 with max-line-length=100
- **Imports**: isort for sorting

## Key Principles (from Constitution)

1. **Open-Source First**: No paid APIs, only open-source libraries
2. **Modular Pipeline**: Each stage independently testable
3. **Test-First (TDD)**: Write tests before implementation
4. **Data Quality**: Normalize before comparison, use 3 metrics
5. **Simplicity**: No premature optimization

## Recent Changes

- Initial specification created (2024-12-24)
- User stories defined for 6 features
- 85 tasks identified across 9 phases

<!-- MANUAL ADDITIONS START -->
<!-- MANUAL ADDITIONS END -->
